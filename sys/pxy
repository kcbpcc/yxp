#!/bin/bash
# ANSI color codes
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color
#sudo timedatectl set-timezone UTC && sudo timedatectl set-local-rtc 0 && timedatectl

# Display menu
echo -e " ${YELLOW}ğŸ›ğŸ›ğŸ› PXYÂ® PreciseXceleratedYield Pvt Ltdâ„¢ ğŸ›ğŸ›ğŸ›${NC}"

echo "     -Night Buy                 ğŸ­     nb"
echo "     -SquireOff-ALL             âŒ     ka"
echo "     -Sell all Buy              ğŸ”´     kb"
echo "     -Buy all Sell              ğŸŸ¢     ks"
echo "     -Update pxy                ğŸ“š     up"
echo "     -Run pxy                   âœ…     mm"
echo "     -Control pxy               ğŸš€     ct"
echo "     -Clean pxy                 ğŸŒˆ     cl"
echo "     -Show me profit            ğŸ’°     tp"
echo "     -Show profit Table         ğŸ’µ     pl"
echo "     -Test PXY All              ğŸŒŸ     ta"
echo "     -python3                   ğŸ”¥     py"
echo "     -Or Simply exit            â›”     ex"

echo -e " ${YELLOW}ğŸ›ğŸ›ğŸ› PXYÂ® PreciseXceleratedYield Pvt Ltdâ„¢ ğŸ›ğŸ›ğŸ›${NC}"
# Get user input
read -t 15 -p "Enter your choice: " choice

# Perform actions based on user input
case $choice in
    nb)
        echo "Executing pxybuy - Night Buy"
        pxynbuy
        ;;
    ka)
        echo "Executing pxykill - SquireOff all Positions"
        pxykill
        ;;
    kb)
        echo "Executing pxykillbuy - Sell all Buy Positions"
        pxykillbuy
        ;;
    ks)
        echo "Executing pxykillsell - Rename sys/exe/pxykillsell to sys/pxykillsell"
        pxykillsell
        ;;
    up)
        echo "Executing pxyupdate - Update pxyupdate"
        pxyupdate
        ;;
    mm)
        echo "Waiting for 5 seconds..."
        sleep 5
        echo "Running 'pxy'"
        pxyrun
        ;;
    ct)
        echo "Run controle file"
        pxycntrl
        ;;
    ct)
        echo "Clear Pxy"
        pxycln
        ;;

    tp)
        echo "Profit show"
        pxytprft
        ;;

    pl)
        echo "Profit Table disply"
        pxytblprft
        ;;
    ta)
        echo "Test PXY All"
        pxychk
        ;;
    
    cl)
        echo "Clean PnL file"
        pxycln
        ;;

   py)
        echo "Clean PnL file"
        pxypy
        ;;

    *)
        # Empty input (user didn't make a choice in 5 seconds)
        echo "No input received in the last 5 seconds. Running 'pxy'"
        pxyrun
        ;;

    ex)
        echo "Exiting the script. Goodbye!"
        exit 0
        ;;
esac
